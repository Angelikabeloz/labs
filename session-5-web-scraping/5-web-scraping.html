<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Web Scraping</title>

<script src="5-web-scraping_files/header-attrs-2.9/header-attrs.js"></script>
<script src="5-web-scraping_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="5-web-scraping_files/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="5-web-scraping_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="5-web-scraping_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="5-web-scraping_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="5-web-scraping_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="5-web-scraping_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="5-web-scraping_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="5-web-scraping_files/navigation-1.1/tabsets.js"></script>
<link href="5-web-scraping_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="5-web-scraping_files/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Web Scraping</h1>
<h3 class="subtitle">Collecting Data from the Web using R</h3>

</div>


<hr />
<p>After talking quite a bit about data formats and data processing in the past weeks, today‚Äôs session is dedicated to data collection - from the web!</p>
<p>What we will cover:2</p>
<ul>
<li>basic web technologies</li>
<li>scraping static webpages</li>
<li>scraping multiple static webpages</li>
<li>building up and maintaining you own original sets of web-based data</li>
</ul>
<p>What we will not cover (today):</p>
<ul>
<li>scraping dynamic webpages</li>
<li>APIs</li>
</ul>
<div id="why-webscrape-with-r" class="section level1">
<h1>Why webscrape with R?</h1>
<p>Webscraping broadly includes a) getting (unstructured) data from the web and b) bringing it into shape (e.g.¬†cleaning it, getting it into tabular format).</p>
<p>Why webscrape? While some influential people consider ‚ÄúData Scientist‚Äù üë©‚Äçüíª as the <a href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century">sexiest job</a> of the 21st century (congratulations!), one of the sexiest just emerging academic disciplines (my influential view) - Computational Social Science (CSS). Why so?</p>
<ul>
<li>data abundance online</li>
<li>social interaction online</li>
<li>services track social behavior</li>
</ul>
<p>BUT online data are usually meant for display, not (clean) download!</p>
<p>Also, getting access to online data would be incredibly interesting when you think of very pragmatic things like financial resources, time resources, reproducibility and updateability.</p>
<p>Luckily, with <code>R</code> we can automate the whole pipeline of downloading, parsing and post-processing to make our projects easily reproducible.</p>
<p>In general, remember, the basic <strong>workflow for scraping static webpages</strong> is the following.</p>
<p><img src="pics/workflow.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="scraping-static-websites-with-rvest" class="section level1">
<h1>Scraping static websites with <code>rvest</code></h1>
<p>Who doesn‚Äôt love Wikipedia? Let‚Äôs use this as our first, straight forward test case.</p>
<p><strong>Step 1.</strong> Load the packages <code>rvest</code> and <code>stringr</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code></pre></div>
<p><strong>Step 2.</strong> Parse the page source.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>parsed_url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://en.wikipedia.org/wiki/Berlin&quot;</span>)</span></code></pre></div>
<p><strong>Step 3.</strong> Extract information.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>parsed_nodes <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(parsed_url, <span class="at">xpath =</span> <span class="st">&quot;//div[contains(@class, &#39;column-count-3&#39;)]//li&quot;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">html_text</span>(parsed_nodes)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>cities[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<p>How can do I know THIS <code>xpath = "//div[contains(@class, 'column-count-3')]//li"</code> ?</p>
<p>On your page of interest, go to a table that you‚Äôd like to scrape. Our favorite bowser for webscraping is Google Chrome but others work as well. On Chrome, you go in View &gt; Developer &gt; inspect elements. If you hover over the html code on the right, you should see boxes of different colors framing different elements of the page. Once the part of the page you would like to scrape is selected, right click on the html code and Copy &gt; Copy Xpath. That‚Äôs it.</p>
<p><strong>Step 4.</strong> Clean extracted data. Need help with regular expressions (me, everytime I use them), visit, for example, the section of <a href="https://r4ds.had.co.nz/strings.html">R for Data Science</a> or simply this <a href="https://evoldyn.gitlab.io/evomics-2018/ref-sheets/R_strings.pdf">cheat sheet</a>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove footnotes with a regular expression</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cities, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">[</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">]&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>cities[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract relevant information with regular expressions</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>year <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(cities, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{4}&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>city <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(cities, <span class="st">&quot;[[:alpha:] ]+&quot;</span>) <span class="sc">%&gt;%</span> str_trim</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>country <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(cities, <span class="st">&quot;[[:alpha:] ]+$&quot;</span>) <span class="sc">%&gt;%</span> str_trim</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>year[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>city[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>country[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA</code></pre>
<p><strong>Step 5.</strong> Put everything into a data frame.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>cities_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(year, city, country)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cities_df)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["chr"],"align":["left"]},{"label":["city"],"name":[2],"type":["chr"],"align":["left"]},{"label":["country"],"name":[3],"type":["chr"],"align":["left"]}],"data":[],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="scraping-html-tables" class="section level2">
<h2>Scraping HTML tables</h2>
<p>We have just been scraping an html table‚Ä¶ but there is even an easier way to do this in <code>rvest</code>!</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>url_p <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://en.wikipedia.org/wiki/List_of_human_spaceflights&quot;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">html_table</span>(url_p, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>spaceflights <span class="ot">&lt;-</span> tables[[<span class="dv">1</span>]]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>spaceflights</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Entity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Soviet Union"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Soviet Union"],"name":[3],"type":["chr"],"align":["left"]},{"label":["Soviet Union"],"name":[4],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[5],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[6],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[7],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[8],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[9],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[10],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[11],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[12],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[13],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[14],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[15],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[16],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[17],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[18],"type":["chr"],"align":["left"]},{"label":["United States"],"name":[19],"type":["chr"],"align":["left"]},{"label":["Russia"],"name":[20],"type":["chr"],"align":["left"]},{"label":["Russia"],"name":[21],"type":["chr"],"align":["left"]},{"label":["Russia"],"name":[22],"type":["chr"],"align":["left"]},{"label":["China"],"name":[23],"type":["chr"],"align":["left"]},{"label":["China"],"name":[24],"type":["chr"],"align":["left"]},{"label":["China"],"name":[25],"type":["chr"],"align":["left"]},{"label":["Subtotals  by decade"],"name":[26],"type":["chr"],"align":["left"]},{"label":["Subtotals  by decade"],"name":[27],"type":["chr"],"align":["left"]}],"data":[{"1":"Agency","2":"Soviet space program","3":"Soviet space program","4":"Soviet space program","5":"NASA","6":"NASA","7":"NASA","8":"Scaled Composites","9":"Scaled Composites","10":"Scaled Composites","11":"Virgin Galactic","12":"Virgin Galactic","13":"Virgin Galactic","14":"SpaceX","15":"SpaceX","16":"SpaceX","17":"Blue Origin","18":"Blue Origin","19":"Blue Origin","20":"Roscosmos","21":"Roscosmos","22":"Roscosmos","23":"CMSA","24":"CMSA","25":"CMSA","26":"Subtotals  by decade","27":"Subtotals  by decade"},{"1":"Decades","2":"Program","3":"Dates[a]","4":"No.[b]","5":"Program[c]","6":"Dates","7":"No.[d]","8":"Program","9":"Dates","10":"No.","11":"Program","12":"Dates","13":"No.[e]","14":"Program","15":"Dates","16":"No.","17":"Program","18":"Dates","19":"No.","20":"Program","21":"Dates","22":"No.[f]","23":"Program","24":"Dates","25":"No.","26":"Subtotals  by decade","27":"Subtotals  by decade"},{"1":"1961‚Äì1970","2":"Vostok","3":"1961‚Äì1963","4":"6","5":"Mercury","6":"1961‚Äì1963","7":"6","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"52","27":"52"},{"1":"1961‚Äì1970","2":"Voskhod","3":"1964‚Äì1965","4":"2","5":"X-15","6":"1962‚Äì1968","7":"13","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"52","27":"52"},{"1":"1961‚Äì1970","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Gemini","6":"1965‚Äì1966","7":"10","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"52","27":"52"},{"1":"1961‚Äì1970","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Apollo","6":"1968‚Äì1972","7":"11","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"52","27":"52"},{"1":"1971‚Äì1980","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Apollo","6":"1968‚Äì1972","7":"11","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"38","27":"38"},{"1":"1971‚Äì1980","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Skylab","6":"1973‚Äì1974","7":"3","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"38","27":"38"},{"1":"1971‚Äì1980","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Apollo‚ÄìSoyuz","6":"1975","7":"1","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"38","27":"38"},{"1":"1981‚Äì1990","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Space  Shuttle","6":"1981‚Äì2011","7":"135","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"","21":"","22":"","23":"","24":"","25":"","26":"63","27":"63"},{"1":"1991‚Äì2000","2":"Soyuz","3":"1967‚Äì1991","4":"63","5":"Space  Shuttle","6":"1981‚Äì2011","7":"135","8":"","9":"","10":"","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"Soyuz","21":"1992‚Äìpresent","22":"80","23":"","24":"","25":"","26":"83","27":"83"},{"1":"2001‚Äì2010","2":"","3":"","4":"","5":"Space  Shuttle","6":"1981‚Äì2011","7":"135","8":"SpaceShipOne","9":"2004","10":"3","11":"","12":"","13":"","14":"","15":"","16":"","17":"","18":"","19":"","20":"Soyuz","21":"1992‚Äìpresent","22":"80","23":"Shenzhou","24":"2003‚Äìpresent","25":"7","26":"61","27":"61"},{"1":"2011‚Äì2020","2":"","3":"","4":"","5":"Space  Shuttle","6":"1981‚Äì2011","7":"135","8":"","9":"","10":"","11":"SpaceShipTwo","12":"2018‚Äìpresent","13":"4","14":"Crew Dragon","15":"2020‚Äìpresent","16":"4","17":"","18":"","19":"","20":"Soyuz","21":"1992‚Äìpresent","22":"80","23":"Shenzhou","24":"2003‚Äìpresent","25":"7","26":"45","27":"45"},{"1":"2021‚Äì2030","2":"","3":"","4":"","5":"","6":"","7":"","8":"","9":"","10":"","11":"SpaceShipTwo","12":"2018‚Äìpresent","13":"4","14":"Crew Dragon","15":"2020‚Äìpresent","16":"4","17":"New Shepard","18":"2021‚Äìpresent","19":"1","20":"Soyuz","21":"1992‚Äìpresent","22":"80","23":"Shenzhou","24":"2003‚Äìpresent","25":"7","26":"7","27":"7"},{"1":"Subtotals  by entity","2":"","3":"","4":"71","5":"","6":"","7":"179","8":"","9":"","10":"3","11":"","12":"","13":"4","14":"","15":"","16":"4","17":"","18":"","19":"1","20":"","21":"","22":"80","23":"","24":"","25":"7","26":"Total","27":"349"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Another R workaround for more complex tables is the package <code>htmltab</code> that offers some more flexibility.</p>
</div>
</div>
<div id="scraping-multiple-pages" class="section level1">
<h1>Scraping multiple pages</h1>
</div>
<div id="sources" class="section level1">
<h1>Sources</h1>
<p>This tutorial drew heavily on Simon Munzert‚Äôs book <a href="http://r-datacollection.com/">Automated Data Collection with R</a> and related <a href="https://github.com/simonmunzert/web-scraping-with-r-extended-edition">course materials</a>.</p>
</div>

&nbsp;
<hr />
<p style="text-align: center;">A work by Lisa Oswald & Tom Arend</a></p>
<p style="text-align: center;"><span style="color: #808080;"><em>Prepared for Intro to Data Science, taught by Simon Munzert</em></span></p>
<p style="text-align: center;"><span style="color: #808080;"><em><a href="https://www.hertie-school.org/en/">Hertie School, Berlin</em></span></p>

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" >

<!-- Add font awesome icons -->
<p style="text-align: center;">
    <a href="https://github.com/intro-to-data-science-21"  <i class="fab fa-github"></i><a>
</p>

&nbsp;


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
